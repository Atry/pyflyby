#!/usr/bin/env python
"""
Usage: find-import names...

Prints how to import given name(s).
"""

from __future__ import absolute_import, division, with_statement

from   pyflyby.cmdline          import parse_args, syntax
from   pyflyby.importdb         import global_known_imports
from   pyflyby.log              import logger

def main():
    options, args = parse_args(import_format_params=True)
    if not args:
        syntax()
    db = global_known_imports().by_import_as
    errors = 0
    for arg in args:
        try:
            imports = db[arg]
        except KeyError:
            errors += 1
            logger.error("Can't find import for %r", arg)
        else:
            for imp in imports:
                print imp.pretty_print(params=options.params),
    if errors:
        raise SystemExit(1)


if __name__ == '__main__':
    main()

