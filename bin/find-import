#!/usr/bin/env python
"""
Usage: find-import names...

Prints how to import given name(s).
"""

from __future__ import absolute_import, division, with_statement

import optparse
import sys

from pyflyby.importdb import global_importdb

def syntax():
    print >>sys.stderr, __doc__
    raise SystemExit(1)

def parse_args():
    parser = optparse.OptionParser()
    return parser.parse_args() # options, args

def main():
    options, args = parse_args()
    if not args:
        syntax()
    db = global_importdb()
    errors = 0
    for arg in args:
        try:
            imports = db[arg]
        except KeyError:
            errors += 1
            print >>sys.stderr, "Can't find import for %r" % (arg,)
        else:
            for imp in imports:
                print imp.pretty_print(),
    if errors:
        raise SystemExit(1)


if __name__ == '__main__':
    main()

